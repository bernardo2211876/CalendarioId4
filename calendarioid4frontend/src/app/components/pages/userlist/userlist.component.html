<app-header></app-header>

<main class="content">

<!-- NAV BAR-->
<navbar></navbar><!------------------------------------------------------------------------------------------------------------------------------------------------------------->
<!-- NAV PAGES-->
<nav aria-label="breadcrumb" class="d-none d-md-inline-block">
  <ol class="breadcrumb breadcrumb-dark breadcrumb-transparent">
     <li class="breadcrumb-item">
        <a href="#">
           <svg class="icon icon-xxs" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
           </svg>
        </a>
     </li>
     <li class="breadcrumb-item active" aria-current="page">Lista Utilizador</li>
  </ol>
</nav>


<!------------------------------------------------------------------------------------------------------------>
<!-- TITULO -->
<div class="conteudo">
<div class="d-flex justify-content-between w-100 flex-wrap">
  <div class="mb-3 mb-lg-0">
     <h1 class="h4">Lista Utilizadores</h1>
     <br/>
  </div>
  <div><a [routerLink]="['/register']" routerLinkActive="router-link-active"  class="btn btn-outline-gray"><i class="fa-solid fa-circle-plus"></i>&nbsp;Novo Utilizador</a></div>
</div>
<!------------------------------------------------------------------------------------------------------------>

<!-- Tabela  Angular-->
<div class="main-body">

<mat-form-field >
  <mat-label >Filter </mat-label>
  <input style="background-color: rgb(255, 255, 255);" matInput (keyup)="applyFilter($event)" placeholder="" #input>
  <br/>
</mat-form-field>



<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort>

    <!-- ID Column -->
    <ng-container matColumnDef="Id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
      <td mat-cell *matCellDef="let row"> {{row.Id}} </td>
    </ng-container>

    <!-- Progress Column -->
    <ng-container matColumnDef="Nome">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Nome </th>
      <td mat-cell *matCellDef="let row"> {{row.Nome}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="Email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
      <td mat-cell *matCellDef="let row"> {{row.Email}} </td>
    </ng-container>

    <!-- Fruit Column -->
    <ng-container matColumnDef="Nif">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> NIF </th>
      <td mat-cell *matCellDef="let row"> {{row.Nif}} </td>
    </ng-container>

    <ng-container matColumnDef="Codpostal">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Código Postal </th>
      <td mat-cell *matCellDef="let row"> {{row.Codpostal}} </td>
    </ng-container>

    <ng-container matColumnDef="Morada">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Morada </th>
      <td mat-cell *matCellDef="let row"> {{row.Morada}} </td>
    </ng-container>

    <ng-container matColumnDef="Telemovel">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Telemóvel</th>
      <td mat-cell *matCellDef="let row"> {{row.Telemovel}} </td>
    </ng-container>

    <ng-container matColumnDef="Funcao">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Função</th>
      <td mat-cell *matCellDef="let row"> {{row.Funcao}} </td>
    </ng-container>

    <ng-container matColumnDef="EstadoId">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado</th>
      <td mat-cell *matCellDef="let row"> Ativo </td>
    </ng-container>

    <ng-container matColumnDef="Funcionalidades">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Funcionalidades</th>
      <td mat-cell *matCellDef="let row">
        <a [routerLink]="['/userview',row.Id]"><i class="fa-solid fa-eye"></i></a>&nbsp;&nbsp;
        <a [routerLink]="['/useredit',row.Id]"><i class="fa-solid fa-pencil"></i></a>&nbsp;&nbsp;
        <button class="btndisable" *ngIf="row.Estadoid==1" (click)="disableUser(row.Id)"><i class="fa-solid fa-xmark" style="color: #f00000;"></i></button>
        <button class="btndisable" *ngIf="row.Estadoid==2" (click)="enableUser(row.Id)"><i class="fa-solid fa-check" style="color: #5db44b;"></i></button>
      </td>

    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
    </tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
</div>
</div>

<!--<p *ngIf="!users || users.length <= 0">Não foram encontrados Utilizadores</p>-->
</div>
<app-footer></app-footer>
</main>
